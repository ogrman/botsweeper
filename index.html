<!DOCTYPE html>
<html>
    <head>
        <title>botsweeper</title>
    </head>
    <style>
        #game {
            border: solid 1px black;
        }
    </style>
    <body>
        <h1>Welcome to homepage</h1>
        <p>There are no news.</p>
        <h2>Fight the bots!</h2>
        <p>
            Arrow keys, space and F are vital in the fight against bots. Press
            G when you are sure all bots are flagged. R is important when you
            need to restart the fight.
        </p>
        <p>
            You can also use the mouse. Point at the screen, and use the three
            mouse buttons.
        </p>
        <canvas width="500" height="500" id="game"></canvas>
        <div>
            Time: <span id="timer">0</span> seconds
        </div>
        <div>
            Select board size:
            <button id="beginner">Beginner</button>
            <button id="intermediate">Intermediate</button>
            <button id="advanced">Advanced</button>
        </div>
        <script src="botsweeper.js"></script>
        <script>
            const beginner = { width: 8, height: 8, mines: 10 };
            const intermediate = { width: 16, height: 16, mines: 40 };
            const advanced = { width: 30, height: 16, mines: 99 };

            const canvas = document.getElementById("game");
            const timer = document.getElementById("timer");

            const update_timer = (seconds) => {
                timer.innerHTML = seconds;
            };

            const controller = botsweeper(canvas, update_timer);

            const start = (parameters) => {
                controller.start(parameters.width, parameters.height, parameters.mines);
                canvas.focus();
            };

            document
                .getElementById("beginner")
                .addEventListener("click", () => start(beginner));

            document
                .getElementById("intermediate")
                .addEventListener("click", () => start(intermediate));

            document
                .getElementById("advanced")
                .addEventListener("click", () => start(advanced));

            start(beginner);
        </script>
    </body>
</html>
